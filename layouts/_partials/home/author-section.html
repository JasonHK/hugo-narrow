{{/* 作者信息区域 */}}
{{/* 优先使用页面配置，否则回退站点配置 */}}
{{ $author := .Params.author | default site.Params.author }}

{{ if $author }}
  {{ $authorName := or (T $author.name) $author.name | default site.Title }}
  <section class="author-section mb-12">
    <div class="bg-card border-border rounded-xl border p-8 shadow-sm">
      <div
        class="flex flex-col items-center gap-6 text-center md:flex-row md:items-start md:text-left">
        <!-- 头像 -->
        <div class="shrink-0">
          {{ if $author.avatar }}
            <img
              src="{{ $author.avatar }}"
              alt="{{ $authorName }}"
              class="border-primary/20 h-24 w-24 rounded-full border-4 object-cover shadow-lg" />
          {{ else }}
            <!-- 默认头像：使用作者姓名首字母 -->
            <div
              class="bg-primary text-primary-foreground flex h-24 w-24 items-center justify-center rounded-full text-2xl font-bold shadow-lg">
              {{ substr $authorName 0 1 | upper }}
            </div>
          {{ end }}
        </div>

        <!-- 作者信息 -->
        <div class="min-w-0 flex-1">
          <h1 class="text-foreground mb-2 text-3xl font-bold">
            {{ $authorName }}
          </h1>

          {{ if $author.title }}
            <p class="text-muted-foreground mb-3 text-lg">
              {{ or (T $author.title) $author.title }}
            </p>
          {{ end }}

          {{ if $author.description }}
            <p class="text-foreground mb-4 leading-relaxed">
              {{ or (T $author.description) $author.description }}
            </p>
          {{ end }}

          <!-- 社交链接 -->
          {{ if $author.social }}
            <div
              class="flex flex-wrap justify-center gap-3 md:justify-start">
              {{ range $author.social }}
                <a
                  href="{{ .url }}"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="bg-muted text-muted-foreground hover:text-primary hover:bg-primary/10 focus:ring-primary/20 inline-flex items-center gap-2 rounded-lg px-3 py-2 transition-all duration-300 ease-out hover:-translate-y-0.5 hover:scale-105 focus:ring-2 focus:outline-none"
                  title="{{ or (T .name) .name }}">
                  {{ if .icon }}
                    {{ partial "features/icon.html" (dict "name" .icon "size" "sm" "ariaLabel" .name) }}
                  {{ end }}
                  <span class="text-sm font-medium">{{ or (T .name) .name }}</span>
                </a>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </div>
    </div>
  </section>
{{ end }}

